template<typename Scalar_type>
inline auto square(Scalar_type x){
  return x*x;
}